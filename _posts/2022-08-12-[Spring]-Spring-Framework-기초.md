---

layout: post

title: "[Spring] Spring Framework ê¸°ì´ˆ  "

comments: true

categories: [Spring]

tags: [Spring]

---

### Framework

- ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë°ì„ í•˜ê¸° ìœ„í•œ í‹€ì´ë‚˜ êµ¬ì¡°ë¥¼ ì œê³µ
- ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜•íƒœë¡œ ì œê³µí•¨ìœ¼ë¡œì¨ ê°œë°œìê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ ë¡œì§ì„ ê°œë°œí•˜ëŠ”ë°ì— ì§‘ì¤‘í•˜ê²Œí•´ì¤Œ
- íŠ¹ì • ê°œë…ë“¤ì˜ ì¶”ìƒí™”ë¥¼ ì œê³µí•˜ëŠ” ì—¬ëŸ¬ í´ë˜ìŠ¤ë‚˜ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±
- ì¶”ìƒì ì¸ ê°œë…ë“¤ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°™ì´ ì‘ì—…í•˜ëŠ” ë°©ë²• ì •ì˜
- í”„ë ˆì„ì›Œí¬ë§Œìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•˜ì§€ëŠ” ì•ŠìŒ
- í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•œ ê¸°ë³¸êµ¬ì¡° ì œê³µ ì´ìƒì˜ ë§ì€ ê¸°ëŠ¥ ì œê³µ
  - ì„œë¡œ ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ í†µì‹ 
  - ë°ì´í„°ë¥¼ ë°ì´í„° ì €ì¥ì†Œì— ì €ì¥

------

**Frameworkì™€ Library**

- Library
  - ë‹¨ìˆœ í™œìš© ê°€ëŠ¥í•œ ë„êµ¬ë“¤ì˜ ì§‘í•©
  - ê°œë°œìê°€ êµ¬ì„±í•œ ì½”ë“œ ë‚´ì—ì„œ í•„ìš”í•œ ê¸°ëŠ¥ì´ ìˆìœ¼ë©´ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í˜¸ì¶œí•´ì„œ ì‚¬ìš©
  - í”„ë ˆì„ì›Œí¬ì—ì„œ í•„ìš”í•œ ìµœì†Œí•œì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì›
  - JUnit, Lombok ë“±..
- ì°¨ì´
  - Library : ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íë¦„ ì£¼ë„ê¶Œì´ ê°œë°œìì—ê²Œ ìˆë‹¤
  - Framework : ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íë¦„ ì£¼ë„ê¶Œì´ Frameworkì— ìˆë‹¤.(IoC ì œì–´ì˜ ì—­ì „)

- Framework ì¥ì 
  - ê°€ì´ë“œ ì œê³µìœ¼ë¡œ í”„ë¡œê·¸ë¨ ì²´ê³„ì  ê´€ë¦¬ ê°€ëŠ¥
  - ê·œì•½ì— ë§ì¶° ì‘ì„±í•˜ê¸°ì— ìœ ì§€ë³´ìˆ˜ ì²´ê³„ì  ê°€ëŠ¥
  - ê¸°ë³¸ì ì¸ ì„¤ê³„, ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê³µìœ¼ë¡œ ê°œë°œì†ë„ â†‘
  - ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±, í™•ì¥ì„± â†‘
- Framework ë‹¨ì 
  - í”„ë ˆì„ì›Œí¬ ë³„ í•™ìŠµ í•„ìš”
  - í”„ë¡œì íŠ¸ ìš©ëŸ‰ ì¦ê°€
  - ê·œì•½ ë²—ì–´ë‚˜ì„œ ì½”ë“œ ì‘ì„± X

------

### Spring Framework

- Java ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ”ë°ì— í•„ìš”í•œ Framework
- Java ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ”ë° ìˆì–´ í‘œì¤€ê³¼ë„ ê°™ìŒ
- ê¸°ì—…ë“¤ì´ Spring Frameworkë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ (ê¸°ì—…ìš© ì—”í„°í”„ë¼ì´ì¦ˆ ì‹œìŠ¤í…œ)
  - ê°œë°œ ìƒì‚°ì„± â†‘
  - ìœ ì§€ ë³´ìˆ˜ ìš©ì´
  - ì‹ ë¢°ì„± ì¤‘ìš”
  - ì„œë²„ ì•ˆì •ì„± ìœ ì§€ ì¤‘ìš”
  - ë°ì´í„° ê´€ë¦¬ ì¤‘ìš”

**Spring Framework ë„ì… ì „ ê¸°ìˆ **

- JSPë¥¼ ì´ìš©í•œ ì• í”Œë¦¬ì¼€ì´ì…˜
  - JSP ê°œë°œ ë°©ì‹ : ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” View í˜ì´ì§€ ì½”ë“œì™€ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë²„ ì½”ë“œê°€ ì„ì—¬ìˆëŠ” í˜•íƒœ (í”„ë¡ íŠ¸ì—”ë“œ + ë°±ì—”ë“œ)
  - ì½”ë“œìì²´ê°€ ë„ˆë¬´ ê¸¸ì–´ ê°€ë…ì„± ì €í•˜
  - ì• í”Œë¦¬ì¼€ì´ì…˜ ìœ ì§€ë³´ìˆ˜ ìµœì•…
  - íš¨ìœ¨ì ì¸ í˜‘ì—… ë¶ˆê°€ëŠ¥

------

```java
// Sevlet ë°©ì‹ ì˜ˆì œ ì½”ë“œ : Javaì½”ë“œë§Œ ë³„ë„ì˜ ì„œë¸”ë¦¿ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬ ì‹œí‚´

@WebServlet(name = "TodoServelt")
public class TodoServlet extends HttpServlet {
  // (1) DataBaseë¥¼ ëŒ€ì‹ í•œë‹¤
  private List<ToDo> todoList;
  
  @Override
  public void init() throws ServletException {
    super.init();
    this.todoList = new ArrayList<>();
  }
  
  // (2) í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ìš”ì²­ì„ ë°›ì•„ ë°ì´í„° ì €ì¥ì†Œì— ë“±ë¡í•œë‹¤
  // DBê°€ ì•„ë‹Œ Listì— ë‹´ì•„ì¤Œ
  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
      request.setCharacterEncoding("UTF_8");
      response.setContentType("text/html;charset="UTF_8"");
      
      String todoName = request.getPArameter("todoName");
      String todoDate = request.getParameter("todoDate");
      
      todoList.add(new ToDo(todoName, todoDate));
      
      RequestDispatcher dispatcher = 
          request.getRequestDispatcher("/todo.jsp");
      request.setAttribute("todoList", todoList);
      
      dospatcher.forward(request, response);
  }
  
  // (3)
  protected void doGet(HttpServletRequest request,
      HttpServletResponse response) 
          throw ServletException, IOException {
      System.out.println("Hello Servlet doGet!");
      
      RequestDispatcher dispatcher = 
          request.getRequestDispatcher("/todo.jsp");
      dispatcher.forward(request, response);
  }
}
```

- ì„œë¸”ë¦¿(Servlet)ì„ ì´ìš©í•œ ì• í”Œë¦¬ì¼€ì´ì…˜
  - Servlet : í´ë¼ì´ì–¸íŠ¸ ì›¹ ìš”ì²­ì²˜ë¦¬ì— íŠ¹í™”ëœ Java í´ë˜ìŠ¤ì˜ ì¼ì¢…
  - JSP ë°©ì‹ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” Servlet ë°©ì‹ ì‚¬ìš©
  - **Springì„ ì‚¬ìš©í•œ ì›¹ ìš”ì²­ ì²˜ë¦¬ì‹œì—ë„ ë‚´ë¶€ì ìœ¼ë¡œ Servlet ì‚¬ìš©**
  - JSPë³´ë‹¨ ì•„ë‹ˆì§€ë§Œ ê·¸ë˜ë„ ì—¬ì „íˆ ì½”ë“œê°€ ê¸¸ë‹¤
  - [ğŸ”—Java Servlet](https://ko.wikipedia.org/wiki/ìë°”_ì„œë¸”ë¦¿)
  - [ğŸ”—](https://ko.wikipedia.org/wiki/ìë°”_ì„œë¸”ë¦¿)[Servlet Container](https://ko.wikipedia.org/wiki/ì›¹_ì»¨í…Œì´ë„ˆ)
    - ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ(ì›¹ ì»¨í…Œì´ë„ˆ)ëŠ” ì„œë¸”ë¦¿(Servlet) ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì‹¤í–‰ë¶€í„° Servlet ìƒëª… ì£¼ê¸° ê´€ë¦¬, ì“°ë ˆë“œ í’€(Thread Pool) ìƒì„±í•˜ì—¬ Servletê³¼ Threadë¥¼ ë§¤í•‘ì‹œí‚´
    - [ğŸ”—](https://ko.wikipedia.org/wiki/ìë°”_ì„œë¸”ë¦¿)[ì•„íŒŒì¹˜í†°ìº£(Apache Tomcat)](https://ko.wikipedia.org/wiki/ì•„íŒŒì¹˜_í†°ìº£) ì€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì˜ í•œ ì¢…ë¥˜ë¡œì¨ Spring MVC ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì—­ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ [ğŸ”—](https://ko.wikipedia.org/wiki/ìë°”_ì„œë¸”ë¦¿)[ì•„íŒŒì¹˜ í†°ìº£](https://tomcat.apache.org/)ì—ì„œ ì‹¤í–‰

------

```java
//Spring MVC ë°©ì‹ ì˜ˆì œì½”ë“œ 
@Controller
public class ToDoController {
    @RequestMapping(value = "/todo", method = RequestMethod.POST)
    @ResponseBody
    public List<ToDo> todo(@RequestParam("todoName")String todoName,
                               @RequestParam("todoDate")String todoDate) {
        ToDo.todoList.add(new ToDo(todoName, todoDate));
        return ToDo.todoList;
    }
    
    @RequestMapping(value = "/todo", method = ReuestMethod.GET)
    @ResponseBody
    public List<ToDo> todoList() {
        return ToDo.todoList;
    }
}
```

- Spring MVC ë¥¼ ì´ìš©í•œ ì• í”Œë¦¬ì¼€ì´ì…˜
  - ì½”ë“œê°€ êµ‰ì¥íˆ ê°„ê²°í•´ì§
  - Spring MVCë°©ì‹ì€ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì— ë‹´ê¸´ ë°ì´í„°ë¥¼ êº¼ë‚´ì˜¤ëŠ” ì‘ì—…, ìºë¦­í„°ì…‹ì§€ì • ë“±ê³¼ ê°™ì€ ì‘ì—…ë“¤ì„ ëˆˆì— ë³´ì´ì§€ ì•Šì§€ë§Œ Springì—ì„œ ì•Œì•„ì„œ ì²˜ë¦¬í•´ì¤Œ
  - í•˜ì§€ë§Œ Spring ê¸°ë°˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ì¡ëŠ” ì„¤ì • ì‘ì—…ì´ ì—¬ì „íˆ ë¶ˆí¸
  - Spring ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì •ìƒì ìœ¼ë¡œ êµ¬ë™í•˜ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ì¶”ê°€íŒŒì¼ í•„ìš”(web.xml ë“±)

------

### Spring Boot

Spring Boot

```java
@RestController
public class TodoController {
    private TodoRepository todoRepository;

    @Autowired
    TodoController(TodoRepository todoRepository) {
        this.todoRepository = todoRepository;
    }

    @PostMapping(value = "/todo/register")
    @ResponseBody
    public Todo register(Todo todo) { // (1) í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ë°ì´í„°ë¥¼ í´ë˜ìŠ¤ì— ë‹´ì•„ì„œ í•œë²ˆì— ì „ë‹¬
        todoRepository.save(todo); // (2) DBì— ì €ì¥
        return todo;
    }

    @GetMapping(value = "/todo/list")
    @ResponseBody
    public List<Todo> getTodoList(){
      return todoRepository.findAll(); // (3) ë°ì´í„° ì—‘ì„¸ìŠ¤ ì²˜ë¦¬
    }
}
```

```yaml
# application.properties
spring.h2.console.enabled=true
spring.h2.console.path=/console
spring.jpa.generate-ddl=true
spring.jpa.show-sql=true

# application.yml
spring:
  h2:
    console:
      enalbled: true
      path: /console
  jpa:
    generate-ddl: true
    show-sql: true
```

- Spring MVCì˜ ë‹¨ì ì„ ê°œì„ ì‹œí‚¨ **Spring Boot**
  - ë°ì´í„° ì €ì¥ë¿ë§Œ ì•„ë‹Œ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŒì—ë„ ì½”ë“œ ê¸¸ì´ ìœ ì§€
  - ë³µì¡í•œ ì„¤ì • ì‘ì—…ë˜í•œ Springì´ ëŒ€ì‹  ì²˜ë¦¬
    - ê°œë°œìê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë„ì›€
  - ì„¤ì • íŒŒì¼ ì—­ì‹œ ë‹¨ìˆœí™”ë¨
    - .properties íŒŒì¼ ë³´ë‹¨ .ymlíŒŒì¼ì´ ë” ê°„ë‹¨