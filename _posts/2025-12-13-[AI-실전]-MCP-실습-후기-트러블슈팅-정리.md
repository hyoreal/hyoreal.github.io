---
layout: post

toc: true

title: "[AI ì‹¤ì „] MCP íŠ¸ëŸ¬ë¸”ìŠˆíŒ… - 4ê°€ì§€ ì´ìŠˆ ë° í•´ê²° ë°©ë²•"

date: 2025-12-13 12:00:00 +0900

comments: true

categories: [AI ì‹¤ì „]

tags: [AI, MCP, Claude, SQLite, ì‹¤ìŠµ, íŠ¸ëŸ¬ë¸”ìŠˆíŒ…, ë¬¸ì œ í•´ê²°, Hands-On]


---

### 1. spawn ENOENT / Database file not found

- ðŸš¨ **í˜„ìƒ:**
  - `spawn ENOENT` ì—ëŸ¬ ë°œìƒ
  - `Database file not found` ì—ëŸ¬ ë°œìƒ
  - Claude Desktopì´ MCP Serverë¥¼ ì‹¤í–‰í•˜ì§€ ëª»í•¨

- ðŸš’ **ì›ì¸:**
  - MCP ì„¤ì • JSONì—ì„œ `~`(í‹¸íŠ¸) ê²½ë¡œë¥¼ ì¸ì‹í•˜ì§€ ëª»í•¨
  - ìƒëŒ€ ê²½ë¡œ(`./products.db`) ì‚¬ìš© ì‹œ Claude Desktop ì‹¤í–‰ ìœ„ì¹˜ì™€ ë¶ˆì¼ì¹˜
  - GUI ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‰˜ì˜ í™ˆ ë””ë ‰í† ë¦¬(`~`)ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•¨

- âœ… **í•´ê²°:**
  - `/Users/username/...` ì²˜ëŸ¼ **ì ˆëŒ€ ê²½ë¡œ(Absolute Path)**ë¡œ ë³€ê²½
  - DB íŒŒì¼ì˜ ì ˆëŒ€ ê²½ë¡œ í™•ì¸ í›„ ì„¤ì • íŒŒì¼ì— ë°˜ì˜

**ì—ëŸ¬ ë¡œê·¸:**

```bash
# Claude Desktop ë¡œê·¸ì—ì„œ í™•ì¸
spawn ENOENT
Database file not found: ~/projects/mcp-practice/products.db
```

**ìˆ˜ì • ì „ (ì„¤ì • íŒŒì¼):**

```json
{
  "mcpServers": {
    "sqlite": {
      "command": "uvx",
      "args": [
        "mcp-server-sqlite",
        "--db-path",
        "~/projects/mcp-practice/products.db"  // âŒ í‹¸íŠ¸ ê²½ë¡œ
      ]
    }
  }
}
```

**ìˆ˜ì • í›„ (ì„¤ì • íŒŒì¼):**

```json
{
  "mcpServers": {
    "sqlite": {
      "command": "uvx",
      "args": [
        "mcp-server-sqlite",
        "--db-path",
        "/Users/username/projects/mcp-practice/products.db"  // âœ… ì ˆëŒ€ ê²½ë¡œ
      ]
    }
  }
}
```

**ì ˆëŒ€ ê²½ë¡œ í™•ì¸ ëª…ë ¹ì–´:**

```bash
# í˜„ìž¬ ë””ë ‰í† ë¦¬ì—ì„œ ì ˆëŒ€ ê²½ë¡œ í™•ì¸
cd ~/projects/mcp-practice
realpath products.db
# /Users/username/projects/mcp-practice/products.db

# ë˜ëŠ”
pwd
# /Users/username/projects/mcp-practice
# + "/products.db" = ì ˆëŒ€ ê²½ë¡œ
```

------

### 2. uvx: command not found

- ðŸš¨ **í˜„ìƒ:**
  - `uvx: command not found` ì—ëŸ¬ ë°œìƒ
  - í„°ë¯¸ë„ì—ì„œ `uvx` ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ ëª…ë ¹ì–´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ

- ðŸš’ **ì›ì¸:**
  - `PATH` í™˜ê²½ë³€ìˆ˜ì— `uv`ê°€ ë“±ë¡ë˜ì§€ ì•ŠìŒ
  - UV ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ê°€ PATH ìžë™ ë“±ë¡ ì‹¤íŒ¨ (ê¶Œí•œ ë¬¸ì œ)
  - Macì€ zshê°€ ê¸°ë³¸ ì‰˜ì¸ë° `.bash_profile`ì—ë§Œ PATH ì¶”ê°€ ì‹œë„

- âœ… **í•´ê²°:**
  - `export PATH=$PATH:...` ì„¤ì • ì¶”ê°€
  - `.zshrc` íŒŒì¼ì— PATH ì˜êµ¬ ë“±ë¡
  - ë˜ëŠ” `brew install uv` ìž¬ì„¤ì¹˜

**ì—ëŸ¬ ë¡œê·¸:**

```bash
$ uvx --version
zsh: command not found: uvx
```

**í•´ê²° ë°©ë²• 1: PATH ìˆ˜ë™ ì¶”ê°€ (ìž„ì‹œ)**

```bash
# zsh ì‚¬ìš©ìž (Mac ê¸°ë³¸ ì‰˜)
source $HOME/.local/bin/env

# í™•ì¸
uvx --version
# uvx 0.9.17
```

**í•´ê²° ë°©ë²• 2: .zshrcì— ì˜êµ¬ ë“±ë¡ (ê¶Œìž¥)**

```bash
# .zshrcì— PATH ì¶”ê°€
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.zshrc

# ì„¤ì • ì ìš©
source ~/.zshrc

# í™•ì¸
uvx --version
# uvx 0.9.17
```

**í•´ê²° ë°©ë²• 3: Homebrewë¡œ ìž¬ì„¤ì¹˜**

```bash
# Homebrewë¡œ ì„¤ì¹˜ (PATH ìžë™ ë“±ë¡)
brew install uv

# í™•ì¸
uvx --version
# uvx 0.9.17
```

------

### 3. JSON Syntax Error

- ðŸš¨ **í˜„ìƒ:**
  - Claude Desktop ì•±ì´ ì‹¤í–‰ë˜ìžë§ˆìž ì£½ê±°ë‚˜, ì„¤ì • íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨
  - JSON íŒŒì‹± ì—ëŸ¬ ë°œìƒ

- ðŸš’ **ì›ì¸:**
  - JSON íŒŒì¼ì˜ ë§ˆì§€ë§‰ ì½¤ë§ˆ(`,`) ì‹¤ìˆ˜
  - ê´„í˜¸ ì§ ì•ˆ ë§žìŒ
  - ë”°ì˜´í‘œ ëˆ„ë½ ë˜ëŠ” ìž˜ëª»ëœ ì´ìŠ¤ì¼€ì´í”„

- âœ… **í•´ê²°:**
  - JSON Validator ì‚¬ì´íŠ¸ì—ì„œ ë¬¸ë²• ê²€ì‚¬
  - ë§ˆì§€ë§‰ ì½¤ë§ˆ ì œê±°
  - ê´„í˜¸ ì§ í™•ì¸

**ì—ëŸ¬ ë¡œê·¸:**

```bash
# Claude Desktop ë¡œê·¸ì—ì„œ í™•ì¸
Error parsing JSON: Unexpected token } in JSON at position 123
```

**ìˆ˜ì • ì „ (ì„¤ì • íŒŒì¼ - ë§ˆì§€ë§‰ ì½¤ë§ˆ ì˜¤ë¥˜):**

```json
{
  "mcpServers": {
    "sqlite": {
      "command": "uvx",
      "args": [
        "mcp-server-sqlite",
        "--db-path",
        "/Users/username/projects/mcp-practice/products.db"
      ]
    },  // âŒ ë§ˆì§€ë§‰ í•­ëª© ë’¤ì— ì½¤ë§ˆ
  }
}
```

**ìˆ˜ì • í›„ (ì„¤ì • íŒŒì¼):**

```json
{
  "mcpServers": {
    "sqlite": {
      "command": "uvx",
      "args": [
        "mcp-server-sqlite",
        "--db-path",
        "/Users/username/projects/mcp-practice/products.db"
      ]
    }  // âœ… ë§ˆì§€ë§‰ ì½¤ë§ˆ ì œê±°
  }
}
```

**JSON ë¬¸ë²• ê²€ì‚¬ ëª…ë ¹ì–´:**

```bash
# Pythonìœ¼ë¡œ JSON ê²€ì‚¬
cat ~/Library/Application\ Support/Claude/claude_desktop_config.json | python3 -m json.tool

# ì¶œë ¥: ì •ìƒì´ë©´ JSONì´ í¬ë§·ë˜ì–´ ì¶œë ¥ë¨
# ì—ëŸ¬: SyntaxError ë°œìƒ ì‹œ ì—ëŸ¬ ìœ„ì¹˜ í‘œì‹œ
```

**ì˜¨ë¼ì¸ JSON Validator:**
- https://jsonlint.com/
- https://jsonformatter.org/

------

### 4. Connection Refused / ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤

- ðŸš¨ **í˜„ìƒ:**
  - AIê°€ "ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"ë¼ê³  ë‹µë³€
  - MCP Server ì—°ê²° ì‹¤íŒ¨
  - Claude Desktop í•˜ë‹¨ì— ðŸ”Œ ì•„ì´ì½˜ì´ ë³´ì´ì§€ ì•ŠìŒ

- ðŸš’ **ì›ì¸:**
  - MCP ì„œë²„ í”„ë¡œì„¸ìŠ¤ê°€ ë¹„ì •ìƒ ì¢…ë£Œë¨ (Zombie Process)
  - ì´ì „ MCP Server í”„ë¡œì„¸ìŠ¤ê°€ ë‚¨ì•„ìžˆìŒ
  - Claude Desktop ìž¬ì‹œìž‘ ì‹œ ì´ì „ í”„ë¡œì„¸ìŠ¤ì™€ ì¶©ëŒ

- âœ… **í•´ê²°:**
  - `pkill -f mcp-server`ë¡œ í”„ë¡œì„¸ìŠ¤ ì •ë¦¬ í›„ ìž¬ì‹œìž‘
  - Claude Desktop ì™„ì „ ì¢…ë£Œ í›„ ìž¬ì‹¤í–‰

**ì—ëŸ¬ ë¡œê·¸:**

```bash
# Claude Desktop ë¡œê·¸ì—ì„œ í™•ì¸
Connection refused: MCP Server process not found
```

**í•´ê²° ë°©ë²• 1: í”„ë¡œì„¸ìŠ¤ ì •ë¦¬ í›„ ìž¬ì‹œìž‘**

```bash
# MCP Server í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
pkill -f mcp-server

# í”„ë¡œì„¸ìŠ¤ í™•ì¸ (ì¢…ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸)
ps aux | grep mcp-server
# ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•Šìœ¼ë©´ ì •ìƒ ì¢…ë£Œ

# Claude Desktop ìž¬ì‹œìž‘
# Cmd + Q (ì™„ì „ ì¢…ë£Œ)
open -a "Claude"
```

**í•´ê²° ë°©ë²• 2: ê°•ì œ ì¢…ë£Œ í›„ ìž¬ì‹œìž‘**

```bash
# ëª¨ë“  Claude ê´€ë ¨ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
pkill -9 -f Claude

# MCP Server í”„ë¡œì„¸ìŠ¤ë„ í•¨ê»˜ ì¢…ë£Œ
pkill -f mcp-server

# ìž¬ì‹œìž‘
open -a "Claude"
```

**í”„ë¡œì„¸ìŠ¤ í™•ì¸ ëª…ë ¹ì–´:**

```bash
# ì‹¤í–‰ ì¤‘ì¸ MCP Server í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep mcp-server

# ì¶œë ¥ ì˜ˆì‹œ:
# username  12345  ...  uvx mcp-server-sqlite ...
# â†’ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì´ë©´ ì¢…ë£Œ í•„ìš”
```

------

> ì°¸ê³  ìžë£Œ
> - MCP ê³µì‹ ë¬¸ì„œ: https://modelcontextprotocol.io/
> - UV ê³µì‹ ë¬¸ì„œ: https://docs.astral.sh/uv/
> - JSON Validator: https://jsonlint.com/



