---
layout: post

toc: true

title: "[AI ì‹¤ì „] í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§: AIì—ê²Œ í•¨ìˆ˜ í˜¸ì¶œ(Function Call)í•˜ë“¯ ëª…ë ¹í•˜ê¸°"

date: 2025-12-13 19:20:00 +0900

comments: true

categories: [AI, Deep Learning]

tags: [AI, Prompt Engineering, Temperature, Persona, Function Call, ChatGPT]


---

### í”„ë¡¬í”„íŠ¸ëŠ” ë¬¸ê³¼ì  ê¸€ì“°ê¸°ê°€ ì•„ë‹ˆì—ìš”, í•¨ìˆ˜ ì„¤ê³„ì…ë‹ˆë‹¤

"ChatGPTì•¼, ì½”ë“œ ì§œì¤˜" í–ˆëŠ”ë° ì—‰ëš±í•œ ê²°ê³¼ê°€ ë‚˜ì˜¨ ì  ìˆìœ¼ì‹œì£ ?

ë§ì€ ê°œë°œìë“¤ì´ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì„ **"AIì—ê²Œ ì¹œì ˆí•˜ê²Œ ë§ ê±¸ê¸°"** ì •ë„ë¡œ ìƒê°í•´ìš”. í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” **í•¨ìˆ˜ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒê³¼ ë˜‘ê°™ì€ ë…¼ë¦¬ì  ê³¼ì •**ì…ë‹ˆë‹¤!

```java
// ì´ê±´ í•¨ìˆ˜ ì„¤ê³„ê°€ ì•„ë‹ˆë¼ ë§ˆë²• ì£¼ë¬¸ì´ì—ìš”
magicFunction(); // ë­˜ ë¦¬í„´í• ê¹Œìš”? ğŸ¤·

// ì´ê²Œ ì œëŒ€ë¡œ ëœ í•¨ìˆ˜ ì„¤ê³„ì£ 
Response generate(
    Context context,      // ë°°ê²½ ì •ë³´
    Task task,            // ìˆ˜í–‰í•  ì‘ì—…
    Constraints rules,    // ì œì•½ ì¡°ê±´
    OutputFormat format   // ì¶œë ¥ í˜•ì‹
);
```

ì˜¤ëŠ˜ì€ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì„ **í•¨ìˆ˜ í˜¸ì¶œ ê´€ì **ì—ì„œ ì™„ì „íˆ ì •ë³µí•´ë³´ê² ìŠµë‹ˆë‹¤!

------

### 1. í”„ë¡¬í”„íŠ¸ë¥¼ í•¨ìˆ˜ë¡œ ë°”ë¼ë³´ê¸° ğŸ¯

#### Bad Prompt = ì˜ëª» ì„¤ê³„ëœ í•¨ìˆ˜

```java
// âŒ Bad: íŒŒë¼ë¯¸í„° ì—†ì´ í˜¸ì¶œ
public String generateCode() {
    // ë­˜ ë§Œë“¤ì–´ì•¼ í• ê¹Œìš”?
    // ì–´ë–¤ ì–¸ì–´ë¡œ?
    // ì–´ë–¤ ìŠ¤íƒ€ì¼ë¡œ?
    return "???";
}

// ì‚¬ìš©
String code = generateCode(); 
// â†’ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ê²°ê³¼!
```

```
âŒ Bad Prompt:
"ì½”ë“œ ì§œì¤˜"

AI ì‘ë‹µ:
"ì–´ë–¤ ì½”ë“œë¥¼ ì›í•˜ì‹œë‚˜ìš”? ì–¸ì–´ì™€ êµ¬ì²´ì ì¸ ìš”êµ¬ì‚¬í•­ì„ ì•Œë ¤ì£¼ì„¸ìš”."
```

------

#### Good Prompt = ì˜ ì„¤ê³„ëœ í•¨ìˆ˜

```java
// âœ… Good: ëª…í™•í•œ íŒŒë¼ë¯¸í„°ì™€ ë°˜í™˜ íƒ€ì…
public String generateCode(
    String language,           // ì–¸ì–´ ì§€ì •
    String task,               // êµ¬ì²´ì  ì‘ì—…
    CodeStyle style,           // ì½”ë”© ìŠ¤íƒ€ì¼
    List<String> constraints,  // ì œì•½ ì¡°ê±´
    OutputFormat format        // ì¶œë ¥ í˜•ì‹
) {
    // ëª…í™•í•œ ì…ë ¥ â†’ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì¶œë ¥
    return processWithParameters(...);
}

// ì‚¬ìš©
String code = generateCode(
    "Java",
    "Spring Security JWT ì¸ì¦ êµ¬í˜„",
    CodeStyle.CLEAN_CODE,
    Arrays.asList("ì£¼ì„ í¬í•¨", "ì˜ˆì™¸ ì²˜ë¦¬"),
    OutputFormat.MARKDOWN
);
// â†’ ì •í™•í•œ ê²°ê³¼!
```

```
âœ… Good Prompt:
"""
[Context] Spring Boot 3.2 í”„ë¡œì íŠ¸ì—ì„œ
[Task] JWT ê¸°ë°˜ ì¸ì¦ í•„í„°ë¥¼ êµ¬í˜„í•˜ê³  ì‹¶ì–´ìš”.
[Constraints]
- Clean Code ì›ì¹™ ì¤€ìˆ˜
- ì£¼ì„ìœ¼ë¡œ ê° ë‹¨ê³„ ì„¤ëª…
- SecurityConfigì™€ JwtFilter ë¶„ë¦¬
[Output Format]
- ì½”ë“œëŠ” Java ë¸”ë¡ìœ¼ë¡œ
- ê° í´ë˜ìŠ¤ë³„ë¡œ êµ¬ë¶„í•´ì„œ ì œê³µ
"""

AI ì‘ë‹µ:
ì •í™•íˆ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ì½”ë“œë¥¼ ìƒì„±!
```

------

### 2. Temperature - AIì˜ Random Seed ì¡°ì ˆ ğŸŒ¡ï¸

#### Temperatureë€?

**AIì˜ ì°½ì˜ì„±(ë¬´ì‘ìœ„ì„±)ì„ ì¡°ì ˆí•˜ëŠ” íŒŒë¼ë¯¸í„°** (0.0 ~ 2.0)

```java
// Javaì˜ Randomê³¼ ìœ ì‚¬í•œ ê°œë…
public class LLM {
    
    private double temperature; // 0.0 ~ 2.0
    
    public Token selectNextToken(Map<Token, Double> probabilities) {
        if (temperature == 0.0) {
            // í•­ìƒ ê°€ì¥ í™•ë¥  ë†’ì€ ê²ƒë§Œ ì„ íƒ (Deterministic)
            return probabilities.entrySet().stream()
                .max(Map.Entry.comparingByValue())
                .get().getKey();
        } else {
            // í™•ë¥  ë¶„í¬ì—ì„œ ë¬´ì‘ìœ„ ìƒ˜í”Œë§ (Probabilistic)
            return weightedRandomSample(probabilities, temperature);
        }
    }
}
```

------

#### Temperature ê°’ì— ë”°ë¥¸ ë™ì‘

```java
// Temperature = Random ë²”ìœ„ ì¡°ì ˆ
public class RandomComparison {
    
    // Temperature 0.0 = ê³ ì •ëœ ì‹œë“œ
    Random deterministicRandom = new Random(42); // í•­ìƒ ê°™ì€ ê²°ê³¼
    
    // Temperature 0.7 = ì ë‹¹í•œ ë¬´ì‘ìœ„ì„±
    Random moderateRandom = new Random(); // ì ë‹¹íˆ ë‹¤ì–‘í•œ ê²°ê³¼
    
    // Temperature 1.5 = ê·¹ë„ì˜ ë¬´ì‘ìœ„ì„±
    Random wildRandom = new Random();
    // nextInt() ë²”ìœ„ë¥¼ í™•ì¥í•œ ê²ƒê³¼ ìœ ì‚¬
}
```

#### ì‹¤ì œ ì˜ˆì‹œ ë¹„êµ

```
ì§ˆë¬¸: "Spring Bootì˜ ì¥ì ì„ 3ê°€ì§€ ë§í•´ì¤˜"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Temperature = 0.0 (Deterministic)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ì²« ë²ˆì§¸ ì‹¤í–‰:
1. ìë™ ì„¤ì • (Auto Configuration)
2. ë…ë¦½ ì‹¤í–‰í˜• ì• í”Œë¦¬ì¼€ì´ì…˜
3. ê°•ë ¥í•œ ìƒíƒœê³„

ë‘ ë²ˆì§¸ ì‹¤í–‰:
1. ìë™ ì„¤ì • (Auto Configuration)  â† ë˜‘ê°™ìŒ!
2. ë…ë¦½ ì‹¤í–‰í˜• ì• í”Œë¦¬ì¼€ì´ì…˜
3. ê°•ë ¥í•œ ìƒíƒœê³„

â†’ í•­ìƒ ë™ì¼í•œ ë‹µë³€ (ì •ë‹µì´ ì •í•´ì§„ ì§ˆë¬¸ì— ì í•©)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Temperature = 0.7 (Balanced)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ì²« ë²ˆì§¸ ì‹¤í–‰:
1. ë¹ ë¥¸ ê°œë°œ ì†ë„
2. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¹œí™”ì 
3. ë°©ëŒ€í•œ ì»¤ë®¤ë‹ˆí‹°

ë‘ ë²ˆì§¸ ì‹¤í–‰:
1. ì„¤ì •ì˜ ë‹¨ìˆœí™”
2. ë‚´ì¥ ì„œë²„ ì§€ì›
3. í”„ë¡œë•ì…˜ ì¤€ë¹„ ê¸°ëŠ¥

â†’ í•©ë¦¬ì ìœ¼ë¡œ ë‹¤ì–‘í•œ ë‹µë³€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Temperature = 1.5 (Creative)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ì²« ë²ˆì§¸ ì‹¤í–‰:
1. ê°œë°œì í–‰ë³µë„ í–¥ìƒ ğŸ˜Š
2. ë§ˆë²• ê°™ì€ ìë™ ì„¤ì •
3. ì„¸ìƒì—ì„œ ê°€ì¥ ì¿¨í•œ í”„ë ˆì„ì›Œí¬

ë‘ ë²ˆì§¸ ì‹¤í–‰:
1. Spring BootëŠ” ì»¤í”¼ì²˜ëŸ¼ ê°œë°œìë¥¼ ê¹¨ì›Œì¤˜ìš”
2. XML ì§€ì˜¥ì—ì„œì˜ íƒˆì¶œêµ¬
3. ...

â†’ ì°½ì˜ì ì´ì§€ë§Œ ë¶€ì •í™•í•  ìˆ˜ ìˆìŒ
```

------

#### Temperature ì„ íƒ ê°€ì´ë“œ

```java
@Service
public class AIService {
    
    /**
     * ì‘ì—… ìœ í˜•ì— ë”°ë¥¸ Temperature ì„ íƒ
     */
    public String generateResponse(String task, String prompt) {
        double temperature = selectTemperature(task);
        return llm.generate(prompt, temperature);
    }
    
    private double selectTemperature(String taskType) {
        return switch (taskType) {
            // ì •ë‹µì´ ì •í•´ì§„ ì‘ì—…
            case "CODE_GENERATION" -> 0.0;      // ì½”ë“œ ìƒì„±
            case "TRANSLATION" -> 0.0;          // ë²ˆì—­
            case "MATH" -> 0.0;                 // ìˆ˜í•™ ë¬¸ì œ
            case "DATA_EXTRACTION" -> 0.1;      // ë°ì´í„° ì¶”ì¶œ
            
            // ê· í˜• ì¡íŒ ì‘ì—…
            case "EXPLANATION" -> 0.3;          // ê°œë… ì„¤ëª…
            case "CODE_REVIEW" -> 0.3;          // ì½”ë“œ ë¦¬ë·°
            case "REFACTORING" -> 0.5;          // ë¦¬íŒ©í† ë§ ì œì•ˆ
            case "DOCUMENTATION" -> 0.5;        // ë¬¸ì„œ ì‘ì„±
            
            // ì°½ì˜ì„±ì´ í•„ìš”í•œ ì‘ì—…
            case "BRAINSTORMING" -> 0.8;        // ì•„ì´ë””ì–´ íšŒì˜
            case "NAMING" -> 0.7;               // ë„¤ì´ë°
            case "BLOG_WRITING" -> 0.7;         // ë¸”ë¡œê·¸ ê¸€ì“°ê¸°
            case "CREATIVE_WRITING" -> 1.0;     // ì°½ì‘
            
            default -> 0.7; // ê¸°ë³¸ê°’
        };
    }
}
```

| Temperature | ì‚¬ìš© ì‚¬ë¡€ | ë¹„ìœ  |
|------------|----------|------|
| **0.0 - 0.2** | ì½”ë“œ ìƒì„±, ë²ˆì—­, íŒ©íŠ¸ ì²´í¬ | `Collections.sort()` - ì •í•´ì§„ ìˆœì„œ |
| **0.3 - 0.5** | ì„¤ëª…, ìš”ì•½, ì½”ë“œ ë¦¬ë·° | `HashMap` - ì˜ˆì¸¡ ê°€ëŠ¥í•˜ì§€ë§Œ ìœ ì—°í•¨ |
| **0.6 - 0.8** | ì•„ì´ë””ì–´, ë„¤ì´ë°, ë¸”ë¡œê·¸ | `new Random()` - ì ë‹¹í•œ ë¬´ì‘ìœ„ì„± |
| **0.9 - 2.0** | ì°½ì‘, ì†Œì„¤, ì‹¤í—˜ì  ì‹œë„ | `ThreadLocalRandom` - ê·¹ë„ì˜ ë³€ë™ì„± |

------

#### ì‹¤ì „ ì½”ë“œ ì˜ˆì‹œ

```java
@RestController
@RequestMapping("/api/ai")
public class AIController {
    
    @Autowired
    private OpenAIClient openAI;
    
    /**
     * ì½”ë“œ ìƒì„± - Temperature 0.0
     */
    @PostMapping("/generate-code")
    public String generateCode(@RequestBody CodeRequest request) {
        String prompt = String.format("""
            ë‹¤ìŒ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” Java ì½”ë“œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”:
            %s
            
            ì½”ë“œë§Œ ì¶œë ¥í•˜ê³ , ì„¤ëª…ì€ ì£¼ì„ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”.
            """, request.getRequirements());
        
        return openAI.chat(prompt, temperature = 0.0); // ì •í™•ì„± ìµœìš°ì„ 
    }
    
    /**
     * ë³€ìˆ˜ëª… ì œì•ˆ - Temperature 0.7
     */
    @PostMapping("/suggest-naming")
    public List<String> suggestNaming(@RequestBody NamingRequest request) {
        String prompt = String.format("""
            ë‹¤ìŒ ìš©ë„ì˜ ë³€ìˆ˜ëª…ì„ 5ê°€ì§€ ì œì•ˆí•´ì£¼ì„¸ìš”:
            ìš©ë„: %s
            íƒ€ì…: %s
            
            Java ë„¤ì´ë° ì»¨ë²¤ì…˜ì„ ë”°ë¥´ë˜, ì°½ì˜ì ìœ¼ë¡œ ì œì•ˆí•´ì£¼ì„¸ìš”.
            """, request.getPurpose(), request.getType());
        
        String response = openAI.chat(prompt, temperature = 0.7); // ì°½ì˜ì„±
        return parseNamingSuggestions(response);
    }
    
    /**
     * ì½”ë“œ ë¦¬ë·° - Temperature 0.3
     */
    @PostMapping("/code-review")
    public CodeReviewResult reviewCode(@RequestBody String code) {
        String prompt = String.format("""
            ë‹¤ìŒ ì½”ë“œë¥¼ ë¦¬ë·°í•´ì£¼ì„¸ìš”:
            
            ```java
            %s
            ```
            
            ë‹¤ìŒ ê´€ì ì—ì„œ ë¶„ì„í•˜ì„¸ìš”:
            1. ë²„ê·¸ ê°€ëŠ¥ì„±
            2. ì„±ëŠ¥ ì´ìŠˆ
            3. ê°€ë…ì„± ê°œì„ ì 
            4. Best Practice ìœ„ë°˜
            """, code);
        
        return openAI.chat(prompt, temperature = 0.3); // ê· í˜•
    }
}
```

------

### 3. Persona (ì—­í•  ë¶€ì—¬) - í´ë˜ìŠ¤ ìƒì†ê³¼ DI ğŸ­

#### Personaë€?

**AIì—ê²Œ íŠ¹ì • ì—­í• ê³¼ ì „ë¬¸ì„±ì„ ë¶€ì—¬í•˜ëŠ” ê¸°ìˆ **

```java
// Persona = í´ë˜ìŠ¤ ìƒì†
public interface Developer {
    String explainConcept(String topic);
}

// ì¼ë°˜ ê°œë°œì
public class JuniorDeveloper implements Developer {
    public String explainConcept(String topic) {
        return "ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•´ë“œë¦´ê²Œìš”...";
    }
}

// ì‹œë‹ˆì–´ ê°œë°œì (ì „ë¬¸ì„± ì¶”ê°€)
public class SeniorJavaDeveloper extends JuniorDeveloper {
    
    private int experience = 10; // 10ë…„ ê²½ë ¥
    private List<String> expertise = Arrays.asList(
        "Spring", "JPA", "Microservices", "Performance Tuning"
    );
    
    @Override
    public String explainConcept(String topic) {
        // ë” ê¹Šì´ ìˆê³  ì‹¤ë¬´ ê²½í—˜ ê¸°ë°˜ì˜ ì„¤ëª…
        return explainWithRealWorldExamples(topic);
    }
}
```

------

#### Persona ì ìš© ì „í›„ ë¹„êµ

```
âŒ Persona ì—†ìŒ:

Prompt: "JPA N+1 ë¬¸ì œ ì„¤ëª…í•´ì¤˜"

AI ì‘ë‹µ:
"JPA N+1 ë¬¸ì œëŠ” ì—°ê´€ê´€ê³„ ì¡°íšŒ ì‹œ ë°œìƒí•˜ëŠ” ì„±ëŠ¥ ë¬¸ì œì…ë‹ˆë‹¤.
1ê°œì˜ ì¿¼ë¦¬ë¡œ Nê°œì˜ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ, ê° ì—”í‹°í‹°ë§ˆë‹¤ ì¶”ê°€ë¡œ
1ê°œì”©ì˜ ì¿¼ë¦¬ê°€ ë°œìƒí•˜ì—¬ ì´ N+1ê°œì˜ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤..."

â†’ êµê³¼ì„œì ì¸ ì„¤ëª…
```

```
âœ… Persona ì ìš©:

Prompt:
"""
ë‹¹ì‹ ì€ 10ë…„ì°¨ Spring/JPA ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì‹¤ë¬´ì—ì„œ ìˆ˜ë§ì€ ì„±ëŠ¥ ì´ìŠˆë¥¼ í•´ê²°í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤.
ì´ˆë³´ ê°œë°œìê°€ ì´í•´í•˜ê¸° ì‰½ê²Œ ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œì™€ í•¨ê»˜ ì„¤ëª…í•´ì£¼ì„¸ìš”.

ì§ˆë¬¸: JPA N+1 ë¬¸ì œ ì„¤ëª…í•´ì¤˜
"""

AI ì‘ë‹µ:
"ì‹¤ë¬´ì—ì„œ ê°€ì¥ ë§ì´ ë§ˆì£¼ì¹˜ëŠ” ì„±ëŠ¥ ì´ìŠˆì£ !
ì œê°€ ì‹¤ì œë¡œ ê²ªì€ ì‚¬ë¡€ë¥¼ ë“¤ì–´ë³¼ê²Œìš”.

[ìƒí™©]
íšŒì› ëª©ë¡ì„ ì¡°íšŒí•˜ëŠ”ë° ê° íšŒì›ì˜ ì£¼ë¬¸ ë‚´ì—­ë„ í•¨ê»˜ ë³´ì—¬ì¤˜ì•¼ í–ˆì–´ìš”.

[ë¬¸ì œ ì½”ë“œ]
@GetMapping("/users")
public List<UserDto> getUsers() {
    List<User> users = userRepository.findAll(); // 1ë²ˆ ì¿¼ë¦¬
    
    return users.stream()
        .map(user -> {
            List<Order> orders = user.getOrders(); // Në²ˆ ì¿¼ë¦¬!
            return new UserDto(user, orders);
        })
        .collect(Collectors.toList());
}

100ëª…ì˜ íšŒì›ì´ ìˆìœ¼ë©´ ì´ 101ë²ˆì˜ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤!

[í•´ê²° ë°©ë²• 3ê°€ì§€]
1. Fetch Join
2. @EntityGraph
3. Batch Size ì„¤ì •

ì œê°€ ì‹¤ë¬´ì—ì„œëŠ” ë³´í†µ @EntityGraphë¥¼ ì„ í˜¸í•˜ëŠ”ë°..."

â†’ ì‹¤ë¬´ ê²½í—˜ ê¸°ë°˜ì˜ ê¹Šì´ ìˆëŠ” ì„¤ëª…!
```

------

#### Persona ì„¤ê³„ íŒ¨í„´

```java
// Persona = Builder íŒ¨í„´ìœ¼ë¡œ ì„¤ê³„
public class PersonaBuilder {
    
    private String role;
    private int experience;
    private List<String> expertise;
    private String communicationStyle;
    private String targetAudience;
    
    public PersonaBuilder role(String role) {
        this.role = role;
        return this;
    }
    
    public PersonaBuilder experience(int years) {
        this.experience = years;
        return this;
    }
    
    public PersonaBuilder expertise(List<String> skills) {
        this.expertise = skills;
        return this;
    }
    
    public PersonaBuilder style(String style) {
        this.communicationStyle = style;
        return this;
    }
    
    public PersonaBuilder audience(String audience) {
        this.targetAudience = audience;
        return this;
    }
    
    public String build() {
        return String.format("""
            ë‹¹ì‹ ì€ %dë…„ì°¨ %sì…ë‹ˆë‹¤.
            ì „ë¬¸ ë¶„ì•¼: %s
            ì˜ì‚¬ì†Œí†µ ìŠ¤íƒ€ì¼: %s
            ëŒ€ìƒ ì²­ì¤‘: %s
            """,
            experience,
            role,
            String.join(", ", expertise),
            communicationStyle,
            targetAudience
        );
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
String persona = new PersonaBuilder()
    .role("ì‹œë‹ˆì–´ ë°±ì—”ë“œ ê°œë°œì")
    .experience(10)
    .expertise(Arrays.asList("Spring Boot", "JPA", "Kafka", "Redis"))
    .style("ì‹¤ë¬´ ê²½í—˜ ê¸°ë°˜, ì½”ë“œ ì˜ˆì‹œ ìœ„ì£¼")
    .audience("ì£¼ë‹ˆì–´ ê°œë°œì")
    .build();
```

------

#### ì‹¤ì „ Persona ì˜ˆì‹œ

```java
@Component
public class PersonaTemplates {
    
    /**
     * ì‹œë‹ˆì–´ Java ê°œë°œì í˜ë¥´ì†Œë‚˜
     */
    public static final String SENIOR_JAVA_DEVELOPER = """
        ë‹¹ì‹ ì€ 10ë…„ ì´ìƒ ê²½ë ¥ì˜ ì‹œë‹ˆì–´ Java ë°±ì—”ë“œ ê°œë°œìì…ë‹ˆë‹¤.
        
        [ì „ë¬¸ ë¶„ì•¼]
        - Spring Framework (Spring Boot, Spring Security, Spring Data JPA)
        - ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬ (ë¶„ì‚° ì‹œìŠ¤í…œ, ìºì‹±, ë©”ì‹œì§€ í)
        - ì„±ëŠ¥ ìµœì í™” (JVM íŠœë‹, ì¿¼ë¦¬ ìµœì í™”)
        - Clean Code & Refactoring
        
        [ë‹µë³€ ìŠ¤íƒ€ì¼]
        - ì‹¤ë¬´ ê²½í—˜ ê¸°ë°˜ì˜ êµ¬ì²´ì ì¸ ì˜ˆì‹œ ì œê³µ
        - "ì™œ"ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì›ë¦¬ ì„¤ëª…
        - ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ í¬í•¨
        - Trade-offì™€ Best Practice ì–¸ê¸‰
        - ì´ˆë³´ìë„ ì´í•´í•˜ê¸° ì‰½ê²Œ ë‹¨ê³„ë³„ ì„¤ëª…
        
        [ê¸ˆì§€ ì‚¬í•­]
        - ì¶”ìƒì ì´ê±°ë‚˜ ì´ë¡ ì ì¸ ì„¤ëª…ë§Œ í•˜ì§€ ë§ˆì„¸ìš”
        - "ê·¸ëƒ¥ ì´ë ‡ê²Œ í•˜ì„¸ìš”" ê°™ì€ ê·¼ê±° ì—†ëŠ” ì¡°ì–¸ ê¸ˆì§€
        - ë³µë¶™ìš© ì½”ë“œë§Œ ë˜ì ¸ì£¼ì§€ ë§ˆì„¸ìš”
        """;
    
    /**
     * ì½”ë“œ ë¦¬ë·°ì–´ í˜ë¥´ì†Œë‚˜
     */
    public static final String CODE_REVIEWER = """
        ë‹¹ì‹ ì€ ê¹Œë‹¤ë¡­ì§€ë§Œ ì¹œì ˆí•œ ì‹œë‹ˆì–´ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤.
        
        [ë¦¬ë·° ê´€ì ]
        1. ë²„ê·¸ ê°€ëŠ¥ì„± (Null ì²´í¬, Exception ì²˜ë¦¬)
        2. ì„±ëŠ¥ ì´ìŠˆ (N+1 ë¬¸ì œ, ë¶ˆí•„ìš”í•œ ë°˜ë³µ)
        3. ê°€ë…ì„± (ë³€ìˆ˜ëª…, ë©”ì„œë“œ ë¶„ë¦¬, ì£¼ì„)
        4. ë³´ì•ˆ (SQL Injection, XSS, ë¯¼ê°ì •ë³´ ë…¸ì¶œ)
        5. Best Practice ì¤€ìˆ˜ (SOLID, DRY, KISS)
        
        [ë‹µë³€ í˜•ì‹]
        ğŸ‘ ì˜í•œ ì : ...
        ğŸš¨ ì‹¬ê°í•œ ë¬¸ì œ: ...
        ğŸ’¡ ê°œì„  ì œì•ˆ: ...
        
        [ë‹µë³€ ìŠ¤íƒ€ì¼]
        - ë¹„íŒë³´ë‹¤ëŠ” ê±´ì„¤ì  ì œì•ˆ
        - ì™œ ë¬¸ì œì¸ì§€ ì´ìœ  ì„¤ëª…
        - ê°œì„ ëœ ì½”ë“œ ì˜ˆì‹œ ì œê³µ
        """;
    
    /**
     * ê¸°ìˆ  ë©´ì ‘ê´€ í˜ë¥´ì†Œë‚˜
     */
    public static final String TECH_INTERVIEWER = """
        ë‹¹ì‹ ì€ ëŒ€ê¸°ì—… ë°±ì—”ë“œ ê°œë°œì ì±„ìš© ë©´ì ‘ê´€ì…ë‹ˆë‹¤.
        
        [ë©´ì ‘ ìŠ¤íƒ€ì¼]
        - ì§€ì›ìì˜ ì´í•´ë„ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ê¼¬ë¦¬ ì§ˆë¬¸
        - "ê·¸ëŸ¼ ì´ ê²½ìš°ëŠ” ì–´ë–»ê²Œ ë˜ë‚˜ìš”?" ê°™ì€ ì‹¬í™” ì§ˆë¬¸
        - ì‹¤ë¬´ ê²½í—˜ ìœ ë¬´ë¥¼ íŒŒì•…í•˜ëŠ” ì§ˆë¬¸
        - ë‹¨ìˆœ ì•”ê¸°ê°€ ì•„ë‹Œ ì›ë¦¬ ì´í•´ë¥¼ í™•ì¸
        
        [ì§ˆë¬¸ ë‚œì´ë„]
        - ê¸°ë³¸ ê°œë… â†’ ì‹¬í™” â†’ ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤ ìˆœìœ¼ë¡œ ì§„í–‰
        - ë‹µë³€ì— ë”°ë¼ ë‚œì´ë„ ì¡°ì ˆ
        """;
}
```

------

### 4. í”„ë¡¬í”„íŠ¸ 4ëŒ€ ìš”ì†Œ (CO-STAR) ğŸ“‹

#### í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ì²˜ëŸ¼ êµ¬ì¡°í™”í•˜ê¸°

```java
// í”„ë¡¬í”„íŠ¸ = í•¨ìˆ˜ í˜¸ì¶œ
Response generate(
    Context context,      // 1. ë°°ê²½ ì •ë³´
    Objective objective,  // 2. ëª©ì /ì„ë¬´
    Style style,          // 3. ìŠ¤íƒ€ì¼/ì œì•½
    Tone tone,            // 4. ì–´ì¡°
    Audience audience,    // 5. ëŒ€ìƒ
    Response format       // 6. ì¶œë ¥ í˜•ì‹
);
```

#### CO-STAR í”„ë ˆì„ì›Œí¬

```java
public class PromptStructure {
    
    // C: Context (ë°°ê²½)
    private String context;
    
    // O: Objective (ëª©í‘œ)
    private String objective;
    
    // S: Style (ìŠ¤íƒ€ì¼)
    private String style;
    
    // T: Tone (ì–´ì¡°)
    private String tone;
    
    // A: Audience (ëŒ€ìƒ)
    private String audience;
    
    // R: Response Format (ì‘ë‹µ í˜•ì‹)
    private String responseFormat;
    
    public String build() {
        return String.format("""
            [Context - ë°°ê²½]
            %s
            
            [Objective - ëª©í‘œ]
            %s
            
            [Style - ìŠ¤íƒ€ì¼]
            %s
            
            [Tone - ì–´ì¡°]
            %s
            
            [Audience - ëŒ€ìƒ]
            %s
            
            [Response Format - ì¶œë ¥ í˜•ì‹]
            %s
            """,
            context, objective, style, tone, audience, responseFormat
        );
    }
}
```

------

#### Bad Prompt vs Good Prompt ì‹¤ì „ ë¹„êµ

##### ì˜ˆì‹œ 1: ì½”ë“œ ìƒì„±

```java
// âŒ Bad Prompt
"Spring Security ì½”ë“œ ì§œì¤˜"

// AI ì‘ë‹µ:
// - ì–´ë–¤ ë²„ì „?
// - ì–´ë–¤ ì¸ì¦ ë°©ì‹?
// - í”„ë¡œì íŠ¸ êµ¬ì¡°ëŠ”?
// â†’ ì¶”ê°€ ì§ˆë¬¸ë§Œ ëŒì•„ì˜´
```

```java
// âœ… Good Prompt
String prompt = """
    [Context]
    - Spring Boot 3.2, Java 17 í”„ë¡œì íŠ¸
    - JWT ê¸°ë°˜ ì¸ì¦ êµ¬í˜„ ì¤‘
    - í˜„ì¬ SecurityConfigë§Œ ìˆê³  í•„í„°ëŠ” ì—†ëŠ” ìƒíƒœ
    
    [Objective]
    JWT í† í°ì„ ê²€ì¦í•˜ëŠ” í•„í„°ë¥¼ êµ¬í˜„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
    ìš”ì²­ í—¤ë”ì—ì„œ í† í°ì„ ì¶”ì¶œí•˜ê³ , ìœ íš¨ì„±ì„ ê²€ì¦í•œ í›„,
    SecurityContextì— ì¸ì¦ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë¡œì§ì´ í•„ìš”í•©ë‹ˆë‹¤.
    
    [Style]
    - Clean Code ì›ì¹™ ì¤€ìˆ˜
    - ê° ë©”ì„œë“œì— JavaDoc ì£¼ì„
    - ì˜ˆì™¸ ì²˜ë¦¬ í¬í•¨
    - ë¡œê¹… ì¶”ê°€
    
    [Tone]
    ì‹¤ë¬´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œë•ì…˜ ë ˆë²¨ ì½”ë“œ
    
    [Audience]
    Spring Security ì´ˆë³´ ê°œë°œì
    
    [Response Format]
    1. JwtAuthenticationFilter.java ì „ì²´ ì½”ë“œ
    2. ì£¼ìš” ë¡œì§ ë‹¨ê³„ë³„ ì„¤ëª…
    3. SecurityConfigì— í•„í„° ë“±ë¡í•˜ëŠ” ë°©ë²•
    
    ì½”ë“œëŠ” ```java ë¸”ë¡ìœ¼ë¡œ êµ¬ë¶„í•´ì£¼ì„¸ìš”.
    """;

// AI ì‘ë‹µ:
// ì •í™•íˆ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ì™„ë²½í•œ ì½”ë“œ ìƒì„±!
```

------

##### ì˜ˆì‹œ 2: ê°œë… ì„¤ëª…

```java
// âŒ Bad Prompt
"JPA íŠ¸ëœì­ì…˜ ì„¤ëª…í•´ì¤˜"

// AI ì‘ë‹µ:
// ì¼ë°˜ì ì¸ êµê³¼ì„œì  ì„¤ëª…
// ì‹¤ë¬´ì™€ ë™ë–¨ì–´ì§„ ì¶”ìƒì  ë‚´ìš©
```

```java
// âœ… Good Prompt
String prompt = """
    [Context]
    ì €ëŠ” 3ê°œì›”ì°¨ ì£¼ë‹ˆì–´ ë°±ì—”ë“œ ê°œë°œìì…ë‹ˆë‹¤.
    @Transactionalì„ ì‚¬ìš©ì€ í•˜ëŠ”ë° ì •í™•í•œ ë™ì‘ ì›ë¦¬ë¥¼ ëª¨ë¥´ê² ì–´ìš”.
    íŠ¹íˆ readOnly, propagation, isolationì´ ì‹¤ë¬´ì—ì„œ ì™œ ì¤‘ìš”í•œì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤.
    
    [Objective]
    JPA íŠ¸ëœì­ì…˜ì˜ ë™ì‘ ì›ë¦¬ì™€ ê° ì˜µì…˜ì˜ ì‹¤ë¬´ í™œìš©ë²•ì„ ì´í•´í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
    
    [Style]
    - ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ ìœ„ì£¼
    - ê° ì˜µì…˜ë³„ "ì´ëŸ° ê²½ìš°ì— ì´ë ‡ê²Œ ì“´ë‹¤" ì‹ì˜ ì‹¤ìš©ì  ì„¤ëª…
    - ì˜ëª» ì‚¬ìš©í–ˆì„ ë•Œì˜ ë¬¸ì œì ë„ í•¨ê»˜ ì„¤ëª…
    
    [Tone]
    ì„ ë°° ê°œë°œìê°€ í›„ë°°ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ì¹œê·¼í•œ ë§íˆ¬
    
    [Audience]
    Spring ê¸°ë³¸ì€ ì•Œì§€ë§Œ íŠ¸ëœì­ì…˜ ê°œë…ì´ ë¶€ì¡±í•œ ì£¼ë‹ˆì–´
    
    [Response Format]
    1. ê¸°ë³¸ ê°œë… (ë¹„ìœ  ì‚¬ìš©)
    2. ì£¼ìš” ì˜µì…˜ë³„ ì„¤ëª…
       - readOnly
       - propagation
       - isolation
    3. ì‹¤ë¬´ Best Practice
    4. í”í•œ ì‹¤ìˆ˜ ì‚¬ë¡€
    
    ê° ì˜µì…˜ë§ˆë‹¤ Good/Bad ì½”ë“œ ì˜ˆì‹œë¥¼ ë³´ì—¬ì£¼ì„¸ìš”.
    """;

// AI ì‘ë‹µ:
// ì‹¤ë¬´ ì¤‘ì‹¬ì˜ ê¹Šì´ ìˆëŠ” ì„¤ëª… + êµ¬ì²´ì  ì˜ˆì‹œ!
```

------

##### ì˜ˆì‹œ 3: ì½”ë“œ ë¦¬ë·°

```java
// âŒ Bad Prompt
"""
ì´ ì½”ë“œ ë¦¬ë·°í•´ì¤˜:

@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;
    
    public User getUser(Long id) {
        return userRepository.findById(id).get();
    }
}
"""

// AI ì‘ë‹µ:
// "ì¢‹ì€ ì½”ë“œì…ë‹ˆë‹¤" ê°™ì€ í”¼ìƒì  ë¦¬ë·°
```

```java
// âœ… Good Prompt
"""
[Context]
ì´ ì½”ë“œëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš© ì¤‘ì¸ íšŒì› ì¡°íšŒ ë¡œì§ì…ë‹ˆë‹¤.
ìµœê·¼ ê°€ë” 500 ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ë° ì›ì¸ì„ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.

[Objective]
ë‹¤ìŒ ê´€ì ì—ì„œ ì½”ë“œë¥¼ ë¦¬ë·°í•´ì£¼ì„¸ìš”:
1. ì ì¬ì  ë²„ê·¸ ê°€ëŠ¥ì„±
2. ì„±ëŠ¥ ì´ìŠˆ
3. ì˜ˆì™¸ ì²˜ë¦¬ ëˆ„ë½
4. Best Practice ìœ„ë°˜

[Style]
- ë¬¸ì œì ë§ˆë‹¤ ì‹¬ê°ë„ í‘œì‹œ (ğŸš¨ ì‹¬ê°, âš ï¸ ê²½ê³ , ğŸ’¡ ì œì•ˆ)
- ì™œ ë¬¸ì œì¸ì§€ ì´ìœ  ì„¤ëª…
- ê°œì„ ëœ ì½”ë“œ ì˜ˆì‹œ ì œê³µ

[Code]
@Service
public class UserService {
    @Autowired
    private UserRepository userRepository;
    
    public User getUser(Long id) {
        return userRepository.findById(id).get();
    }
}

[Response Format]
1. ë°œê²¬ëœ ë¬¸ì œì  (ì‹¬ê°ë„ ìˆœ)
2. ê° ë¬¸ì œì ì˜ ì„¤ëª…
3. ê°œì„ ëœ ì „ì²´ ì½”ë“œ
4. ì¶”ê°€ ì œì•ˆ ì‚¬í•­
"""

// AI ì‘ë‹µ:
"""
ğŸš¨ ì‹¬ê°í•œ ë¬¸ì œ:

1. NoSuchElementException ìœ„í—˜
   - `findById().get()` ì‚¬ìš© ì‹œ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì˜ˆì™¸ ë°œìƒ
   - ì´ê²Œ 500 ì—ëŸ¬ì˜ ì›ì¸ì…ë‹ˆë‹¤!

2. í•„ë“œ ì£¼ì… ì‚¬ìš©
   - @Autowired í•„ë“œ ì£¼ì…ì€ í…ŒìŠ¤íŠ¸ê°€ ì–´ë µê³  ìˆœí™˜ ì°¸ì¡° ìœ„í—˜

âš ï¸ ê²½ê³ :

3. íŠ¸ëœì­ì…˜ ëˆ„ë½
   - readOnly íŠ¸ëœì­ì…˜ì„ ëª…ì‹œí•˜ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤

ğŸ’¡ ê°œì„  ì œì•ˆ:

[ê°œì„ ëœ ì½”ë“œ]
@Service
@RequiredArgsConstructor
public class UserService {
    
    private final UserRepository userRepository;
    
    @Transactional(readOnly = true)
    public User getUser(Long id) {
        return userRepository.findById(id)
            .orElseThrow(() -> new UserNotFoundException(
                "ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + id
            ));
    }
}

[Exception í´ë˜ìŠ¤]
@ResponseStatus(HttpStatus.NOT_FOUND)
public class UserNotFoundException extends RuntimeException {
    public UserNotFoundException(String message) {
        super(message);
    }
}

[ë³€ê²½ ì‚¬í•­]
1. ìƒì„±ì ì£¼ì…ìœ¼ë¡œ ë³€ê²½ (í…ŒìŠ¤íŠ¸ ìš©ì´)
2. Optional.orElseThrow()ë¡œ ëª…ì‹œì  ì˜ˆì™¸ ì²˜ë¦¬
3. @Transactional(readOnly = true) ì¶”ê°€
4. ì»¤ìŠ¤í…€ ì˜ˆì™¸ë¡œ ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œ ë°˜í™˜

ì´ì œ 500 ì—ëŸ¬ ëŒ€ì‹  404 ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€
ì ì ˆíˆ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
"""
```

------

### 5. ì‹¤ì „ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ëª¨ìŒ ğŸ“š

```java
@Component
public class PromptTemplates {
    
    /**
     * ì½”ë“œ ìƒì„± í…œí”Œë¦¿
     */
    public static String codeGeneration(
        String tech,
        String task,
        String constraints
    ) {
        return String.format("""
            [Role]
            ë‹¹ì‹ ì€ %s ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
            
            [Task]
            %s
            
            [Constraints]
            %s
            
            [Output Format]
            1. ì™„ì „í•œ ë™ì‘ ì½”ë“œ (```java ë¸”ë¡)
            2. ì£¼ìš” ë¡œì§ ë‹¨ê³„ë³„ ì„¤ëª…
            3. ì£¼ì˜ì‚¬í•­ ë° Best Practice
            
            ì‹¤ë¬´ì—ì„œ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œë•ì…˜ ë ˆë²¨ ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.
            """, tech, task, constraints);
    }
    
    /**
     * ê°œë… ì„¤ëª… í…œí”Œë¦¿
     */
    public static String conceptExplanation(
        String concept,
        String level,
        String focusArea
    ) {
        return String.format("""
            [Persona]
            ë‹¹ì‹ ì€ 10ë…„ì°¨ ì‹œë‹ˆì–´ ê°œë°œìë¡œ, ë³µì¡í•œ ê°œë…ì„
            ì‰½ê²Œ ì„¤ëª…í•˜ëŠ” ë° ëŠ¥ìˆ™í•©ë‹ˆë‹¤.
            
            [Concept]
            %s
            
            [Target Level]
            %s
            
            [Focus]
            %s
            
            [Style]
            - ì‹¤ìƒí™œ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ë¹„ìœ  ì‚¬ìš©
            - ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ í¬í•¨
            - "ì™œ í•„ìš”í•œê°€?"ë¶€í„° ì‹œì‘
            - ì‹¤ë¬´ í™œìš©ë²• ì¤‘ì‹¬
            
            [Output Format]
            1. í•µì‹¬ ê°œë… (ë¹„ìœ ë¡œ ì„¤ëª…)
            2. ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ
            3. ì‹¤ë¬´ í™œìš© ì‹œë‚˜ë¦¬ì˜¤
            4. í”í•œ ì˜¤í•´ì™€ ì£¼ì˜ì‚¬í•­
            
            ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•´ì£¼ì„¸ìš”.
            """, concept, level, focusArea);
    }
    
    /**
     * ë””ë²„ê¹… ë„ì›€ í…œí”Œë¦¿
     */
    public static String debugging(
        String error,
        String code,
        String context
    ) {
        return String.format("""
            [Situation]
            ë‹¤ìŒ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:
            ```
            %s
            ```
            
            [Code]
            ```java
            %s
            ```
            
            [Context]
            %s
            
            [Task]
            1. ì—ëŸ¬ ì›ì¸ ë¶„ì„
            2. ê·¼ë³¸ ì›ì¸ ì„¤ëª… (ì™œ ë°œìƒí–ˆëŠ”ê°€?)
            3. í•´ê²° ë°©ë²• (ë‹¨ê³„ë³„)
            4. ì¬ë°œ ë°©ì§€ ë°©ë²•
            
            [Output Format]
            ğŸ” ì›ì¸ ë¶„ì„:
            ...
            
            ğŸ› ï¸ í•´ê²° ë°©ë²•:
            1. ...
            2. ...
            
            âœ… ìˆ˜ì •ëœ ì½”ë“œ:
            ```java
            ...
            ```
            
            ğŸ’¡ ì¬ë°œ ë°©ì§€:
            ...
            
            ì‹¤ë¬´ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•´ì£¼ì„¸ìš”.
            """, error, code, context);
    }
    
    /**
     * ë¦¬íŒ©í† ë§ ì œì•ˆ í…œí”Œë¦¿
     */
    public static String refactoring(String code, String issues) {
        return String.format("""
            [Role]
            ë‹¹ì‹ ì€ Clean Code ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
            
            [Current Code]
            ```java
            %s
            ```
            
            [Known Issues]
            %s
            
            [Task]
            ë‹¤ìŒ ê´€ì ì—ì„œ ë¦¬íŒ©í† ë§ ì œì•ˆ:
            1. SOLID ì›ì¹™ ìœ„ë°˜
            2. ì½”ë“œ ì¤‘ë³µ (DRY)
            3. ë³µì¡ë„ (Cyclomatic Complexity)
            4. ë„¤ì´ë°
            5. í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±
            
            [Output Format]
            ğŸ“Š í˜„ì¬ ì½”ë“œ ë¶„ì„:
            - ë¬¸ì œì  1: ...
            - ë¬¸ì œì  2: ...
            
            âœ¨ ë¦¬íŒ©í† ë§ëœ ì½”ë“œ:
            ```java
            ...
            ```
            
            ğŸ“ ë³€ê²½ ì‚¬í•­ ì„¤ëª…:
            1. ...
            2. ...
            
            ğŸ’¡ ì¶”ê°€ ì œì•ˆ:
            ...
            
            ê° ë³€ê²½ì˜ ì´ìœ ë¥¼ ëª…í™•íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”.
            """, code, issues);
    }
}
```

------

### 6. ì‹¤ì „ ì ìš©: OpenAI API í˜¸ì¶œ

```java
@Service
@RequiredArgsConstructor
public class AIAssistantService {
    
    private final OpenAIClient openAI;
    
    /**
     * êµ¬ì¡°í™”ëœ í”„ë¡¬í”„íŠ¸ë¡œ ì½”ë“œ ìƒì„±
     */
    public String generateCode(CodeGenerationRequest request) {
        // Persona ì„¤ì •
        String systemPrompt = PersonaTemplates.SENIOR_JAVA_DEVELOPER;
        
        // êµ¬ì¡°í™”ëœ í”„ë¡¬í”„íŠ¸ ìƒì„±
        String userPrompt = String.format("""
            [Context]
            - í”„ë¡œì íŠ¸: %s
            - ê¸°ìˆ  ìŠ¤íƒ: %s
            - í˜„ì¬ ìƒíƒœ: %s
            
            [Objective]
            %s
            
            [Constraints]
            %s
            
            [Output Format]
            1. ì™„ì „í•œ ì½”ë“œ (í…ŒìŠ¤íŠ¸ ê°€ëŠ¥)
            2. ì£¼ìš” ë¡œì§ ì„¤ëª…
            3. ì‚¬ìš© ì˜ˆì‹œ
            """,
            request.getProjectContext(),
            String.join(", ", request.getTechStack()),
            request.getCurrentState(),
            request.getObjective(),
            String.join("\n", request.getConstraints())
        );
        
        // API í˜¸ì¶œ (Temperature ì¡°ì ˆ)
        return openAI.chat(
            systemPrompt,
            userPrompt,
            temperature = 0.0,  // ì½”ë“œ ìƒì„±ì€ ì •í™•ì„± ìµœìš°ì„ 
            maxTokens = 2000
        );
    }
    
    /**
     * Temperatureì— ë”°ë¥¸ ì‘ë‹µ ë¹„êµ
     */
    public Map<String, String> compareTemperatures(String prompt) {
        Map<String, String> results = new HashMap<>();
        
        // ê²°ì •ì  ì‘ë‹µ
        results.put("deterministic", 
            openAI.chat(prompt, temperature = 0.0));
        
        // ê· í˜• ì¡íŒ ì‘ë‹µ
        results.put("balanced", 
            openAI.chat(prompt, temperature = 0.7));
        
        // ì°½ì˜ì  ì‘ë‹µ
        results.put("creative", 
            openAI.chat(prompt, temperature = 1.2));
        
        return results;
    }
    
    /**
     * Persona ì ìš© ë¹„êµ
     */
    public Map<String, String> comparePersonas(String question) {
        Map<String, String> results = new HashMap<>();
        
        // Persona ì—†ìŒ
        results.put("no_persona", 
            openAI.chat(null, question, temperature = 0.7));
        
        // ì‹œë‹ˆì–´ ê°œë°œì
        results.put("senior_developer", 
            openAI.chat(
                PersonaTemplates.SENIOR_JAVA_DEVELOPER, 
                question, 
                temperature = 0.7
            ));
        
        // ë©´ì ‘ê´€
        results.put("interviewer", 
            openAI.chat(
                PersonaTemplates.TECH_INTERVIEWER, 
                question, 
                temperature = 0.7
            ));
        
        return results;
    }
}
```

------

### 7. ì •ë¦¬: í”„ë¡¬í”„íŠ¸ = í•¨ìˆ˜ ì„¤ê³„

```java
/**
 * í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì˜ í•µì‹¬
 */
public class PromptEngineering {
    
    // 1. í”„ë¡¬í”„íŠ¸ëŠ” í•¨ìˆ˜ë‹¤
    Response generate(
        Context ctx,       // ë°°ê²½ ì •ë³´
        Task task,         // ìˆ˜í–‰í•  ì‘ì—…
        Constraints rules, // ì œì•½ ì¡°ê±´
        OutputFormat fmt   // ì¶œë ¥ í˜•ì‹
    );
    
    // 2. Temperature = Random Seed
    double temperature = 0.7; // 0.0(ì •í™•) ~ 2.0(ì°½ì˜)
    
    // 3. Persona = í´ë˜ìŠ¤ ìƒì†
    interface AI extends SeniorDeveloper {
        String answer(String question);
    }
    
    // 4. êµ¬ì¡°í™” = í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ì„¤ê³„
    String prompt = buildStructuredPrompt(
        context, objective, style, tone, audience, format
    );
}
```

#### í•µì‹¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

```java
// âœ… Good Prompt ì²´í¬ë¦¬ìŠ¤íŠ¸
public boolean isGoodPrompt(String prompt) {
    return hasContext(prompt)           // ë°°ê²½ ì •ë³´ ìˆëŠ”ê°€?
        && hasObjective(prompt)         // ëª…í™•í•œ ëª©í‘œê°€ ìˆëŠ”ê°€?
        && hasConstraints(prompt)       // ì œì•½ ì¡°ê±´ì´ ìˆëŠ”ê°€?
        && hasOutputFormat(prompt)      // ì¶œë ¥ í˜•ì‹ì´ ì§€ì •ë˜ì—ˆëŠ”ê°€?
        && hasPersona(prompt)           // ì—­í• ì´ ë¶€ì—¬ë˜ì—ˆëŠ”ê°€?
        && hasProperTemperature(task);  // ì‘ì—…ì— ë§ëŠ” Temperatureì¸ê°€?
}
```

| ìš”ì†Œ | í•„ìˆ˜ ì—¬ë¶€ | ì˜ˆì‹œ |
|------|----------|------|
| **Context** | âœ… í•„ìˆ˜ | "Spring Boot 3.2 í”„ë¡œì íŠ¸ì—ì„œ" |
| **Objective** | âœ… í•„ìˆ˜ | "JWT ì¸ì¦ êµ¬í˜„" |
| **Constraints** | âš ï¸ ê¶Œì¥ | "Clean Code, ì£¼ì„ í¬í•¨" |
| **Output Format** | âš ï¸ ê¶Œì¥ | "ì½”ë“œ + ì„¤ëª… + ì˜ˆì‹œ" |
| **Persona** | ğŸ’¡ ì„ íƒ | "ì‹œë‹ˆì–´ ê°œë°œì" |
| **Temperature** | ğŸ’¡ ì„ íƒ | 0.0 (ì½”ë“œ) ~ 1.0 (ì°½ì‘) |

------

### ë§ˆì¹˜ë©°

í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì€ ë‹¨ìˆœí•œ ê¸€ì“°ê¸°ê°€ ì•„ë‹™ë‹ˆë‹¤. **í•¨ìˆ˜ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë…¼ë¦¬ì ìœ¼ë¡œ ì ‘ê·¼**í•´ì•¼ í•´ìš”!

1. **í•¨ìˆ˜ ì„¤ê³„ ê´€ì **: ëª…í™•í•œ ì…ë ¥ â†’ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì¶œë ¥
2. **Temperature ì¡°ì ˆ**: ì‘ì—… íŠ¹ì„±ì— ë§ëŠ” ë¬´ì‘ìœ„ì„± ì„ íƒ
3. **Persona ë¶€ì—¬**: í´ë˜ìŠ¤ ìƒì†ì²˜ëŸ¼ ì „ë¬¸ì„± ë²”ìœ„ ì¢íˆê¸°
4. **êµ¬ì¡°í™” (CO-STAR)**: í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ì²˜ëŸ¼ ëª…í™•í•˜ê²Œ

ê°œë°œìë¡œì„œ ì´ ì›ì¹™ë“¤ì„ ì´í•´í•˜ë©´:
- AIë¡œë¶€í„° ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì •í™•íˆ ì–»ì„ ìˆ˜ ìˆê³ 
- í”„ë¡¬í”„íŠ¸ë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í…œí”Œë¦¿ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°
- Temperatureì™€ Personaë¡œ ì‘ë‹µ í’ˆì§ˆì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ë‹¤ìŒ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í•  ë•ŒëŠ” "ì´ê±´ í•¨ìˆ˜ í˜¸ì¶œì´ë‹¤"ë¼ê³  ìƒê°í•´ë³´ì„¸ìš”. ğŸš€

------

> ì°¸ê³  ìë£Œ
> - OpenAI Best Practices: https://platform.openai.com/docs/guides/prompt-engineering
> - Prompt Engineering Guide: https://www.promptingguide.ai/
> - CO-STAR Framework: https://towardsdatascience.com/how-i-won-singapores-gpt-4-prompt-engineering-competition-34c195a93d41

